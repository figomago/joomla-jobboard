
/**
  @package JobBoard
  @copyright Copyright (c)2010-2013 Figomago <http://figomago.wordpress.com>
  @license : GNU General Public License v3 or later
----------------------------------------------------------------------- */

var Scroller=new Class({setOptions:function(a){this.options=Object.extend({speed:600,delay:5000,transition:Fx.Transitions.Quint.easeIn,onComplete:Class.empty,onStart:Class.empty},a||{})},initialize:function(d,b){this.setOptions(b);this.el=$(d);this.items=this.el.getElements("li");var a=this.el.getSize().x;var c=0;this.items.each(function(e,f){c+=e.getSize().y});this.el.setStyles({position:"relative",top:10,left:0,width:a,height:c});this.fx=new Fx.Morph(this.el,{duration:this.options.speed,transition:this.options.transition,onStart:function(){var e=(this.current==0)?this.items.length:this.current;this.items[e-1].fade("out")}.bind(this),onComplete:function(){var e=(this.current==0)?this.items.length:this.current;this.items[e-1].injectInside(this.el);this.items.each(function(f){f.fade("in")});this.el.setStyles({left:0,top:0})}.bind(this)});this.current=0;this.next()},pause:function(){$clear(mytimer);mytimer=null},resume:function(){if(mytimer==null){this.next()}},next:function(){this.current++;if(this.current>=this.items.length){this.current=0}var a=this.items[this.current];this.fx.start({top:-a.offsetTop,left:-a.offsetLeft});mytimer=this.next.bind(this).delay(this.options.delay+this.options.speed)}});var mytimer=null;window.addEvent("domready",function(){var a=new Scroller("ScrollerVertical",{speed:600,delay:5000});if($("stop_scroll")){$("stop_scroll").addEvent("click",function(){$("start_scroll_cont").style.display="block";$("stop_scroll_cont").style.display="none";a.pause()})}if($("start_scroll")){$("start_scroll").addEvent("click",function(){$("stop_scroll_cont").style.display="block";$("start_scroll_cont").style.display="none";a.resume()})}});